import{_ as u,r as i,o as c,b as f,c as p,E as n,k as t,aD as d,j as b,Q as g,aC as w,as as V}from"./index.f1b44a2b.js";import{Q as v}from"./QSelect.a5bd5abf.js";import{Q as y}from"./QForm.293b32f3.js";import{u as D}from"./use-quasar.a96d14ef.js";const Q={props:["usuario","uid","editar"],setup(l){const a=i({nombre:"",rol:"",password:""}),s=D(),o=i(!1);return c(async()=>{const{usuario:e}=await l.usuario(l.uid);a.value={nombre:e.nombre,rol:e.rol}}),{onSubmit:async()=>{a.value.password||delete a.value.password;try{o.value=!0;const{msg:e}=await l.editar(l.uid,a.value);e=="ok"&&s.notify({message:"\xA1Usuario actualizado con \xE9xito!",color:"green-10",position:"top-right",icon:"lar la-check-circle"}),o.value=!1}catch(e){s.notify({message:`${e}`,color:"red-10",position:"top-right",icon:"lar la-exclamation-circle"})}},formData:a,loading:o,options:["ADMIN_ROLE","USER_ROLE"]}}},_={class:"row justify-end"};function S(l,a,s,o,m,e){return f(),p(V,{class:"q-pa-md"},{default:n(()=>[t(y,{class:"q-gutter-md",onSubmit:w(o.onSubmit,["prevent"])},{default:n(()=>[t(d,{filled:"",modelValue:o.formData.nombre,"onUpdate:modelValue":a[0]||(a[0]=r=>o.formData.nombre=r),label:"Nombre completo",color:"indigo-6"},null,8,["modelValue"]),t(d,{filled:"",modelValue:o.formData.password,"onUpdate:modelValue":a[1]||(a[1]=r=>o.formData.password=r),type:"password",label:"Nueva contrase\xF1a",color:"indigo-6"},null,8,["modelValue"]),t(v,{filled:"",modelValue:o.formData.rol,"onUpdate:modelValue":a[2]||(a[2]=r=>o.formData.rol=r),options:o.options,label:"Rol",color:"indigo-6"},null,8,["modelValue","options"]),b("div",_,[t(g,{type:"submit",color:"indigo-6",label:"Actualizar",class:"self-center q-ma-sm q-py-sm","icon-right":"las la-user",loading:o.loading},null,8,["loading"])])]),_:1},8,["onSubmit"])]),_:1})}var q=u(Q,[["render",S]]);export{q as E};
