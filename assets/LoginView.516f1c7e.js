import{Q as y}from"./QPage.12981457.js";import{_ as h,r as p,bc as w,bd as x,e as u,f as v,F as c,l as r,k as i,aC as b,aD as f,as as _,j as E,H as Q,aB as V,Q as q,ar as C,at as L,M as B,N as k,I as D}from"./index.59ad9dfc.js";import{Q as I}from"./QForm.1b34bb0b.js";import{u as S}from"./use-quasar.c67abdef.js";import{c as N,a as g}from"./object.d8999c0c.js";const $={setup(){const e=p({});let o=p({});const t=p(),a=S(),d=w(),{loginUser:m}=x(),s=N().shape({password:g().required("La contrase\xF1a es obligatoria"),email:g().email("El email es inv\xE1lido.").required("El email es obligatorio.")});return{formData:e,formError:o,onLogin:async()=>{o.value={};try{await s.validate(e.value,{abortEarly:!1});try{a.loadingBar.start();const{ok:l,msg:n}=await m(e.value);l?(d.push({name:"home"}),a.notify({message:"\xA1Has ingresado con \xE9xito!",color:"green-10",position:"top-right",icon:"lar la-check-circle"}),a.loadingBar.stop()):(t.value="El email y/o contrase\xF1a son inv\xE1lidos.",a.notify({message:`${n}`,color:"red-10",position:"top-right",icon:"las la-exclamation-circle"}))}catch(l){console.log(l)}}catch(l){l.inner.forEach(n=>{o.value[n.path]=n.message,t.value=o.value[n.path]})}},msgError:t}}},j=e=>(B("data-v-f0c3c2be"),e=e(),k(),e),F=j(()=>i("div",{class:"col-12 text-center q-py-md"},[i("span",{class:"text-h4"},"Panel de control")],-1)),U={class:"q-gutter-md mx-auto",style:{width:"100%"}},H={key:0,class:"text-center"},M={class:"text-red-8 text-weight-bold"},P={class:"row flex justify-center"};function z(e,o,t,a,d,m){return u(),v(L,{class:"my-card"},{default:c(()=>[r(C,{class:"row"},{default:c(()=>[F,i("div",U,[r(I,{class:"q-gutter-md",onSubmit:b(a.onLogin,["prevent"])},{default:c(()=>[r(f,{modelValue:a.formData.email,"onUpdate:modelValue":o[0]||(o[0]=s=>a.formData.email=s),type:"email",filled:"",label:"Email",color:"indigo-6",class:_({error:a.formError.email})},null,8,["modelValue","class"]),r(f,{modelValue:a.formData.password,"onUpdate:modelValue":o[1]||(o[1]=s=>a.formData.password=s),type:"password",filled:"",label:"Contrase\xF1a",color:"indigo-6",class:_({error:a.formError.password})},null,8,["modelValue","class"]),a.msgError?(u(),E("div",H,[i("span",M,Q(a.msgError),1)])):V("",!0),i("div",P,[r(q,{type:"submit",color:"indigo-6",label:"Ingresar",class:"self-center q-ma-md q-pa-sm",style:{width:"100%"}})])]),_:1},8,["onSubmit"])])]),_:1})]),_:1})}var A=h($,[["render",z],["__scopeId","data-v-f0c3c2be"]]);const R={components:{Login:A}};function G(e,o,t,a,d,m){const s=D("Login");return u(),v(y,{class:"q-pa-xl row justify-center"},{default:c(()=>[r(s)]),_:1})}var Y=h(R,[["render",G]]);export{Y as default};
