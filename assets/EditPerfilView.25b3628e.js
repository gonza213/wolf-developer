import{Q as U}from"./QInnerLoading.051e4275.js";import{_ as w,bm as C,r as k,o as q,I as Q,e as s,f as l,F as e,k as i,H as g,l as t,j as v,at as x,Q as d,aB as r,aX as E,G as c}from"./index.a41ae495.js";import{Q as n,a as F,b as A}from"./QUploader.22a9a66b.js";import{Q as B}from"./QPage.1ea919ed.js";import{u as I}from"./use-quasar.1e6fead0.js";import{u as P}from"./useUsuarios.9df9c5fa.js";import{E as j}from"./EditarFormComponent.dafa8ccf.js";import{A as L}from"./constants.9e8d69f8.js";import"./QMenu.43d920a2.js";import"./selection.b7a6f271.js";import"./QSelect.1de7a70a.js";import"./QItem.c2052c42.js";import"./QItemLabel.f8c15c9b.js";import"./QForm.4030cafd.js";const N={components:{EditarUser:j},setup(){const u=C().params.id,{getUsuario:_,editUsuario:a,loading:h}=P(),p=k(),m=k(),o=I();return q(async()=>{const f=await _(u);p.value=f.usuario.img,m.value=f.usuario.nombre}),{img:p,getUsuario:_,editUsuario:a,id:u,nombre:m,uploadImg:f=>new Promise(b=>{setTimeout(()=>{b({url:`${L}/api/uploads/usuarios/${u}`,method:"PUT",fieldName:"archivo"}),o.notify({message:"\xA1Foto actualizada con \xE9xito!",color:"green-10",position:"top-right",icon:"lar la-check-circle"})},2e3)}),loading:h}}},T={class:"text-h4 text-indigo-6"},V={class:"row justify-center"},z={class:"col-12 col-md-4 q-ma-md"},S={class:"justify-center row"},R=["loading"],D=["src"],G={class:"row justify-center"},H={class:"row no-wrap items-center q-pa-sm q-gutter-xs"},M=c("Limpiar"),X=c("Remover archivo"),J={class:"col"},K=i("div",{class:"q-uploader__title"},"Actualizar foto de perfil",-1),O={class:"q-uploader__subtitle"},W=c("Elegir Archivo"),Y=c("Subir archivo"),Z=c("Abortar"),$={class:"col-12 col-md-6 q-ma-md"};function oo(y,u,_,a,h,p){const m=Q("EditarUser");return s(),l(B,{class:"q-pa-md bg-white"},{default:e(()=>[i("span",T,"Editar usuario "+g(a.nombre),1),i("div",V,[i("div",z,[t(x,{class:"q-mb-md"},{default:e(()=>[i("div",S,[a.img?(s(),v("img",{key:1,src:a.img,class:"q-pa-sm",style:{width:"200px"}},null,8,D)):(s(),v("img",{key:0,src:"https://cdn.quasar.dev/img/boy-avatar.png",class:"q-pa-sm",style:{width:"200px"},loading:a.loading},null,8,R))]),i("div",G,[t(U,{showing:a.loading,label:"Espere un momento...","label-class":"text-indigo-6","label-style":"font-size: 1.1em"},null,8,["showing"])])]),_:1}),t(A,{style:{width:"100%"},label:"Cambiar foto",accept:".jpg, image/*",factory:a.uploadImg,color:"indigo-6"},{header:e(o=>[i("div",H,[o.queuedFiles.length>0?(s(),l(d,{key:0,icon:"clear_all",onClick:o.removeQueuedFiles,round:"",dense:"",flat:""},{default:e(()=>[t(n,null,{default:e(()=>[M]),_:1})]),_:2},1032,["onClick"])):r("",!0),o.uploadedFiles.length>0?(s(),l(d,{key:1,icon:"done_all",onClick:o.removeUploadedFiles,round:"",dense:"",flat:""},{default:e(()=>[t(n,null,{default:e(()=>[X]),_:1})]),_:2},1032,["onClick"])):r("",!0),o.isUploading?(s(),l(E,{key:2,class:"q-uploader__spinner"})):r("",!0),i("div",J,[K,i("div",O,g(o.uploadSizeLabel)+" / "+g(o.uploadProgressLabel),1)]),o.canAddFiles?(s(),l(d,{key:3,type:"a",icon:"add_box",onClick:o.pickFiles,round:"",dense:"",flat:""},{default:e(()=>[t(F),t(n,null,{default:e(()=>[W]),_:1})]),_:2},1032,["onClick"])):r("",!0),o.canUpload?(s(),l(d,{key:4,icon:"las la-upload",onClick:o.upload,round:"",dense:"",color:"dark"},{default:e(()=>[t(n,null,{default:e(()=>[Y]),_:1})]),_:2},1032,["onClick"])):r("",!0),o.isUploading?(s(),l(d,{key:5,icon:"clear",onClick:o.abort,round:"",dense:"",flat:""},{default:e(()=>[t(n,null,{default:e(()=>[Z]),_:1})]),_:2},1032,["onClick"])):r("",!0)])]),_:1},8,["factory"])]),i("div",$,[t(m,{usuario:a.getUsuario,uid:a.id,editar:a.editUsuario},null,8,["usuario","uid","editar"])])])]),_:1})}var ho=w(N,[["render",oo]]);export{ho as default};
