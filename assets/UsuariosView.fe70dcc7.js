import{p as j,ai as Vt,aj as Ot,m as f,h as s,v as ue,x as We,bf as Et,bg as Ft,ao as Dt,D as N,y as ce,R as Qt,a1 as Ge,a2 as Ke,r as O,w as I,ab as Lt,ac as Ue,aN as Mt,o as Ut,az as jt,ay as At,P as Nt,ap as pe,bh as je,bi as $t,n as Je,bj as zt,bk as W,bl as Ce,Q as M,aA as Ht,_ as Pe,bc as It,e as A,j as Xe,l as S,F as x,k as T,aD as ie,G as ke,H as se,f as K,J as Ae,aB as Ye,at as Ze,aC as Wt,I as Ne,ar as $e,aU as Gt}from"./index.59ad9dfc.js";import{u as et,Q as xe}from"./useUsuarios.7d670da3.js";import{Q as Kt}from"./QPage.12981457.js";import{a as Jt,Q as Xt}from"./QLinearProgress.f8d6bc2e.js";import{Q as Yt}from"./QList.695fc36b.js";import{u as Zt,a as el,c as tt,Q as lt}from"./QSelect.4f4435df.js";import{u as tl,a as ll,b as al}from"./use-fullscreen.3b974e90.js";import{u as at}from"./use-quasar.c67abdef.js";import{Q as ol}from"./QForm.1b34bb0b.js";import{c as rl,a as re}from"./object.d8999c0c.js";import"./QItem.9afaadf2.js";import"./QItemLabel.81acae72.js";import"./QMenu.9759187c.js";import"./selection.2ef39368.js";var ze=j({name:"QBreadcrumbsEl",props:{...Vt,label:String,icon:String,tag:{type:String,default:"span"}},setup(e,{slots:l}){const{linkTag:r,linkProps:o,linkClass:n,hasRouterLink:v,navigateToRouterLink:a}=Ot(),d=f(()=>{const b={class:"q-breadcrumbs__el q-link flex inline items-center relative-position "+(e.disable!==!0?"q-link--focusable"+n.value:"q-breadcrumbs__el--disable"),...o.value};return v.value===!0&&(b.onClick=a),b}),u=f(()=>"q-breadcrumbs__el-icon"+(e.label!==void 0?" q-breadcrumbs__el-icon--with-label":""));return()=>{const b=[];return e.icon!==void 0&&b.push(s(ue,{class:u.value,name:e.icon})),e.label!==void 0&&b.push(e.label),s(r.value,{...d.value},We(l.default,b))}}});const nl=[void 0,!0];var il=j({name:"QBreadcrumbs",props:{...Et,separator:{type:String,default:"/"},separatorColor:String,activeColor:{type:String,default:"primary"},gutter:{type:String,validator:e=>["none","xs","sm","md","lg","xl"].includes(e),default:"sm"}},setup(e,{slots:l}){const r=Ft(e),o=f(()=>`flex items-center ${r.value}${e.gutter==="none"?"":` q-gutter-${e.gutter}`}`),n=f(()=>e.separatorColor?` text-${e.separatorColor}`:""),v=f(()=>` text-${e.activeColor}`);return()=>{const a=Dt(N(l.default));if(a.length===0)return;let d=1;const u=[],b=a.filter(g=>g.type!==void 0&&g.type.name==="QBreadcrumbsEl").length,i=l.separator!==void 0?l.separator:()=>e.separator;return a.forEach(g=>{if(g.type!==void 0&&g.type.name==="QBreadcrumbsEl"){const w=d<b,C=g.props!==null&&nl.includes(g.props.disable),k=(w===!0?"":" q-breadcrumbs--last")+(C!==!0&&w===!0?v.value:"");d++,u.push(s("div",{class:`flex items-center${k}`},[g])),w===!0&&u.push(s("div",{class:"q-breadcrumbs__separator"+n.value},i()))}else u.push(g)}),s("div",{class:"q-breadcrumbs"},[s("div",{class:o.value},u)])}}}),G=j({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:l}){const r=ce(),o=f(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return s("td",{class:o.value},N(l.default));const n=r.vnode.key,v=(e.props.colsMap!==void 0?e.props.colsMap[n]:null)||e.props.col;if(v===void 0)return;const{row:a}=e.props;return s("td",{class:o.value+v.__tdClass(a),style:v.__tdStyle(a)},N(l.default))}}}),sl=j({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:l}){const r=f(()=>"q-tr"+(e.props===void 0||e.props.header===!0?"":" "+e.props.__trClass)+(e.noHover===!0?" q-tr--no-hover":""));return()=>s("tr",{class:r.value},N(l.default))}}),ul=j({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:l,emit:r}){const o=ce(),{proxy:{$q:n}}=o,v=a=>{r("click",a)};return()=>{if(e.props===void 0)return s("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:v},N(l.default));let a,d;const u=o.vnode.key;if(u){if(a=e.props.colsMap[u],a===void 0)return}else a=e.props.col;if(a.sortable===!0){const i=a.align==="right"?"unshift":"push";d=Qt(l.default,[]),d[i](s(ue,{class:a.__iconClass,name:n.iconSet.table.arrowUp}))}else d=N(l.default);const b={class:a.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:a.headerStyle,onClick:i=>{a.sortable===!0&&e.props.sort(a),v(i)}};return s("th",b,d)}}});const cl=["horizontal","vertical","cell","none"];var dl=j({name:"QMarkupTable",props:{...Ge,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>cl.includes(e)}},setup(e,{slots:l}){const r=ce(),o=Ke(e,r.proxy.$q),n=f(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(o.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>s("div",{class:n.value},[s("table",{class:"q-table"},N(l.default))])}});function ot(e,l){return s("div",e,[s("table",{class:"q-table"},l)])}const vl={list:Yt,table:dl},fl=["list","table","__qtable"];var ml=j({name:"QVirtualScroll",props:{...Zt,type:{type:String,default:"list",validator:e=>fl.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},setup(e,{slots:l,attrs:r}){let o;const n=O(null),v=f(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:a,localResetVirtualScroll:d,padVirtualScroll:u,onVirtualScrollEvt:b}=el({virtualScrollLength:v,getVirtualScrollTarget:k,getVirtualScrollEl:C}),i=f(()=>{if(v.value===0)return[];const F=(D,R)=>({index:a.value.from+R,item:D});return e.itemsFn===void 0?e.items.slice(a.value.from,a.value.to).map(F):e.itemsFn(a.value.from,a.value.to-a.value.from).map(F)}),g=f(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),w=f(()=>e.scrollTarget!==void 0?{}:{tabindex:0});I(v,()=>{d()}),I(()=>e.scrollTarget,()=>{y(),q()});function C(){return n.value.$el||n.value}function k(){return o}function q(){o=Lt(C(),e.scrollTarget),o.addEventListener("scroll",b,Ue.passive)}function y(){o!==void 0&&(o.removeEventListener("scroll",b,Ue.passive),o=void 0)}function E(){let F=u(e.type==="list"?"div":"tbody",i.value.map(l.default));return l.before!==void 0&&(F=l.before().concat(F)),We(l.after,F)}return Mt(()=>{d()}),Ut(()=>{q()}),jt(()=>{q()}),At(()=>{y()}),Nt(()=>{y()}),()=>{if(l.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?ot({ref:n,class:"q-table__middle "+g.value},E()):s(vl[e.type],{...r,ref:n,class:[r.class,g.value],...w.value},E)}}});function gl(e,l){return new Date(e)-new Date(l)}const bl={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function _l(e,l,r,o){const n=f(()=>{const{sortBy:d}=l.value;return d&&r.value.find(u=>u.name===d)||null}),v=f(()=>e.sortMethod!==void 0?e.sortMethod:(d,u,b)=>{const i=r.value.find(C=>C.name===u);if(i===void 0||i.field===void 0)return d;const g=b===!0?-1:1,w=typeof i.field=="function"?C=>i.field(C):C=>C[i.field];return d.sort((C,k)=>{let q=w(C),y=w(k);return q==null?-1*g:y==null?1*g:i.sort!==void 0?i.sort(q,y,C,k)*g:pe(q)===!0&&pe(y)===!0?(q-y)*g:je(q)===!0&&je(y)===!0?gl(q,y)*g:typeof q=="boolean"&&typeof y=="boolean"?(q-y)*g:([q,y]=[q,y].map(E=>(E+"").toLocaleString().toLowerCase()),q<y?-1*g:q===y?0:g)})});function a(d){let u=e.columnSortOrder;if($t(d)===!0)d.sortOrder&&(u=d.sortOrder),d=d.name;else{const g=r.value.find(w=>w.name===d);g!==void 0&&g.sortOrder&&(u=g.sortOrder)}let{sortBy:b,descending:i}=l.value;b!==d?(b=d,i=u==="da"):e.binaryStateSort===!0?i=!i:i===!0?u==="ad"?b=null:i=!1:u==="ad"?i=!0:b=null,o({sortBy:b,descending:i,page:1})}return{columnToSort:n,computedSortMethod:v,sort:a}}const hl={filter:[String,Object],filterMethod:Function};function yl(e,l){const r=f(()=>e.filterMethod!==void 0?e.filterMethod:(o,n,v,a)=>{const d=n?n.toLowerCase():"";return o.filter(u=>v.some(b=>{const i=a(b,u)+"";return(i==="undefined"||i==="null"?"":i.toLowerCase()).indexOf(d)!==-1}))});return I(()=>e.filter,()=>{Je(()=>{l({page:1},!0)})},{deep:!0}),{computedFilterMethod:r}}function Sl(e,l){for(const r in l)if(l[r]!==e[r])return!1;return!0}function He(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const wl={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function ql(e,l){const{props:r,emit:o}=e,n=O(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:r.rowsPerPageOptions.length>0?r.rowsPerPageOptions[0]:5},r.pagination)),v=f(()=>{const i=r["onUpdate:pagination"]!==void 0?{...n.value,...r.pagination}:n.value;return He(i)}),a=f(()=>v.value.rowsNumber!==void 0);function d(i){u({pagination:i,filter:r.filter})}function u(i={}){Je(()=>{o("request",{pagination:i.pagination||v.value,filter:i.filter||r.filter,getCellValue:l})})}function b(i,g){const w=He({...v.value,...i});if(Sl(v.value,w)===!0){a.value===!0&&g===!0&&d(w);return}if(a.value===!0){d(w);return}r.pagination!==void 0&&r["onUpdate:pagination"]!==void 0?o("update:pagination",w):n.value=w}return{innerPagination:n,computedPagination:v,isServerSide:a,requestServerInteraction:u,setPagination:b}}function Cl(e,l,r,o,n,v){const{props:a,emit:d,proxy:{$q:u}}=e,b=f(()=>o.value===!0?r.value.rowsNumber||0:v.value),i=f(()=>{const{page:R,rowsPerPage:B}=r.value;return(R-1)*B}),g=f(()=>{const{page:R,rowsPerPage:B}=r.value;return R*B}),w=f(()=>r.value.page===1),C=f(()=>r.value.rowsPerPage===0?1:Math.max(1,Math.ceil(b.value/r.value.rowsPerPage))),k=f(()=>g.value===0?!0:r.value.page>=C.value),q=f(()=>(a.rowsPerPageOptions.includes(l.value.rowsPerPage)?a.rowsPerPageOptions:[l.value.rowsPerPage].concat(a.rowsPerPageOptions)).map(B=>({label:B===0?u.lang.table.allRows:""+B,value:B})));I(C,(R,B)=>{if(R===B)return;const J=r.value.page;R&&!J?n({page:1}):R<J&&n({page:R})});function y(){n({page:1})}function E(){const{page:R}=r.value;R>1&&n({page:R-1})}function F(){const{page:R,rowsPerPage:B}=r.value;g.value>0&&R*B<b.value&&n({page:R+1})}function D(){n({page:C.value})}return a["onUpdate:pagination"]!==void 0&&d("update:pagination",{...r.value}),{firstRowIndex:i,lastRowIndex:g,isFirstPage:w,isLastPage:k,pagesNumber:C,computedRowsPerPageOptions:q,computedRowsNumber:b,firstPage:y,prevPage:E,nextPage:F,lastPage:D}}const kl={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},pl=["update:selected","selection"];function Pl(e,l,r,o){const n=f(()=>{const k={};return e.selected.map(o.value).forEach(q=>{k[q]=!0}),k}),v=f(()=>e.selection!=="none"),a=f(()=>e.selection==="single"),d=f(()=>e.selection==="multiple"),u=f(()=>r.value.length>0&&r.value.every(k=>n.value[o.value(k)]===!0)),b=f(()=>u.value!==!0&&r.value.some(k=>n.value[o.value(k)]===!0)),i=f(()=>e.selected.length);function g(k){return n.value[k]===!0}function w(){l("update:selected",[])}function C(k,q,y,E){l("selection",{rows:q,added:y,keys:k,evt:E});const F=a.value===!0?y===!0?q:[]:y===!0?e.selected.concat(q):e.selected.filter(D=>k.includes(o.value(D))===!1);l("update:selected",F)}return{hasSelectionMode:v,singleSelection:a,multipleSelection:d,allRowsSelected:u,someRowsSelected:b,rowsSelectedNumber:i,isRowSelected:g,clearSelection:w,updateSelection:C}}function Ie(e){return Array.isArray(e)?e.slice():[]}const xl={expanded:Array},Rl=["update:expanded"];function Tl(e,l){const r=O(Ie(e.expanded));I(()=>e.expanded,a=>{r.value=Ie(a)});function o(a){return r.value.includes(a)}function n(a){e.expanded!==void 0?l("update:expanded",a):r.value=a}function v(a,d){const u=r.value.slice(),b=u.indexOf(a);d===!0?b===-1&&(u.push(a),n(u)):b!==-1&&(u.splice(b,1),n(u))}return{isRowExpanded:o,setExpanded:n,updateExpanded:v}}const Bl={visibleColumns:Array};function Vl(e,l,r){const o=f(()=>{if(e.columns!==void 0)return e.columns;const d=e.rows[0];return d!==void 0?Object.keys(d).map(u=>({name:u,label:u.toUpperCase(),field:u,align:pe(d[u])?"right":"left",sortable:!0})):[]}),n=f(()=>{const{sortBy:d,descending:u}=l.value;return(e.visibleColumns!==void 0?o.value.filter(i=>i.required===!0||e.visibleColumns.includes(i.name)===!0):o.value).map(i=>{const g=i.align||"right",w=`text-${g}`;return{...i,align:g,__iconClass:`q-table__sort-icon q-table__sort-icon--${g}`,__thClass:w+(i.headerClasses!==void 0?" "+i.headerClasses:"")+(i.sortable===!0?" sortable":"")+(i.name===d?` sorted ${u===!0?"sort-desc":""}`:""),__tdStyle:i.style!==void 0?typeof i.style!="function"?()=>i.style:i.style:()=>null,__tdClass:i.classes!==void 0?typeof i.classes!="function"?()=>w+" "+i.classes:C=>w+" "+i.classes(C):()=>w}})}),v=f(()=>{const d={};return n.value.forEach(u=>{d[u.name]=u}),d}),a=f(()=>e.tableColspan!==void 0?e.tableColspan:n.value.length+(r.value===!0?1:0));return{colList:o,computedCols:n,computedColsMap:v,computedColspan:a}}const ne="q-table__bottom row items-center",rt={};tt.forEach(e=>{rt[e]={}});var Ol=j({name:"QTable",props:{rows:{type:Array,default:()=>[]},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{default:void 0},...rt,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...Ge,...tl,...Bl,...hl,...wl,...xl,...kl,...bl},emits:["request","virtual-scroll",...ll,...Rl,...pl],setup(e,{slots:l,emit:r}){const o=ce(),{proxy:{$q:n}}=o,v=Ke(e,n),{inFullscreen:a,toggleFullscreen:d}=al(),u=f(()=>typeof e.rowKey=="function"?e.rowKey:t=>t[e.rowKey]),b=O(null),i=O(null),g=f(()=>e.grid!==!0&&e.virtualScroll===!0),w=f(()=>" q-table__card"+(v.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),C=f(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":w.value)+(v.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(a.value===!0?" fullscreen scroll":"")),k=f(()=>C.value+(e.loading===!0?" q-table--loading":""));I(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+C.value,()=>{g.value===!0&&i.value!==null&&i.value.reset()});const{innerPagination:q,computedPagination:y,isServerSide:E,requestServerInteraction:F,setPagination:D}=ql(o,z),{computedFilterMethod:R}=yl(e,D),{isRowExpanded:B,setExpanded:J,updateExpanded:nt}=Tl(e,r),de=f(()=>{let t=e.rows;if(E.value===!0||t.length===0)return t;const{sortBy:c,descending:m}=y.value;return e.filter&&(t=R.value(t,e.filter,Q.value,z)),dt.value!==null&&(t=vt.value(e.rows===t?t.slice():t,c,m)),t}),Re=f(()=>de.value.length),U=f(()=>{let t=de.value;if(E.value===!0)return t;const{rowsPerPage:c}=y.value;return c!==0&&(Y.value===0&&e.rows!==t?t.length>Z.value&&(t=t.slice(0,Z.value)):t=t.slice(Y.value,Z.value)),t}),{hasSelectionMode:$,singleSelection:it,multipleSelection:Te,allRowsSelected:st,someRowsSelected:Be,rowsSelectedNumber:ve,isRowSelected:fe,clearSelection:ut,updateSelection:X}=Pl(e,r,U,u),{colList:ct,computedCols:Q,computedColsMap:Ve,computedColspan:Oe}=Vl(e,y,$),{columnToSort:dt,computedSortMethod:vt,sort:me}=_l(e,y,ct,D),{firstRowIndex:Y,lastRowIndex:Z,isFirstPage:ge,isLastPage:be,pagesNumber:ee,computedRowsPerPageOptions:ft,computedRowsNumber:te,firstPage:_e,prevPage:he,nextPage:ye,lastPage:Se}=Cl(o,q,y,E,D,Re),mt=f(()=>U.value.length===0),gt=f(()=>{const t={};return tt.forEach(c=>{t[c]=e[c]}),t.virtualScrollItemSize===void 0&&(t.virtualScrollItemSize=e.dense===!0?28:48),t});function bt(){g.value===!0&&i.value.reset()}function _t(){if(e.grid===!0)return Tt();const t=e.hideHeader!==!0?Le:null;if(g.value===!0){const m=l["top-row"],_=l["bottom-row"],h={default:P=>Fe(P.item,l.body,P.index)};if(m!==void 0){const P=s("tbody",m({cols:Q.value}));h.before=t===null?()=>P:()=>[t()].concat(P)}else t!==null&&(h.before=t);return _!==void 0&&(h.after=()=>s("tbody",_({cols:Q.value}))),s(ml,{ref:i,class:e.tableClass,style:e.tableStyle,...gt.value,scrollTarget:e.virtualScrollTarget,items:U.value,type:"__qtable",tableColspan:Oe.value,onVirtualScroll:yt},h)}const c=[St()];return t!==null&&c.unshift(t()),ot({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},c)}function ht(t,c){if(i.value!==null){i.value.scrollTo(t,c);return}t=parseInt(t,10);const m=b.value.querySelector(`tbody tr:nth-of-type(${t+1})`);if(m!==null){const _=b.value.querySelector(".q-table__middle.scroll"),{offsetTop:h}=m,P=h<_.scrollTop?"decrease":"increase";_.scrollTop=h,r("virtual-scroll",{index:t,from:0,to:q.value.rowsPerPage-1,direction:P})}}function yt(t){r("virtual-scroll",t)}function Ee(){return[s(Jt,{class:"q-table__linear-progress",color:e.color,dark:v.value,indeterminate:!0,trackColor:"transparent"})]}function Fe(t,c,m){const _=u.value(t),h=fe(_);if(c!==void 0)return c(De({key:_,row:t,pageIndex:m,__trClass:h?"selected":""}));const P=l["body-cell"],p=Q.value.map(V=>{const ae=l[`body-cell-${V.name}`],oe=ae!==void 0?ae:P;return oe!==void 0?oe(wt({key:_,row:t,pageIndex:m,col:V})):s("td",{class:V.__tdClass(t),style:V.__tdStyle(t)},z(V,t))});if($.value===!0){const V=l["body-selection"],ae=V!==void 0?V(qt({key:_,row:t,pageIndex:m})):[s(Ce,{modelValue:h,color:e.color,dark:v.value,dense:e.dense,"onUpdate:modelValue":(oe,Bt)=>{X([_],[t],oe,Bt)}})];p.unshift(s("td",{class:"q-table--col-auto-width"},ae))}const L={key:_,class:{selected:h}};return e.onRowClick!==void 0&&(L.class["cursor-pointer"]=!0,L.onClick=V=>{r("RowClick",V,t,m)}),e.onRowDblclick!==void 0&&(L.class["cursor-pointer"]=!0,L.onDblclick=V=>{r("RowDblclick",V,t,m)}),e.onRowContextmenu!==void 0&&(L.class["cursor-pointer"]=!0,L.onContextmenu=V=>{r("RowContextmenu",V,t,m)}),s("tr",L,p)}function St(){const t=l.body,c=l["top-row"],m=l["bottom-row"];let _=U.value.map((h,P)=>Fe(h,t,P));return c!==void 0&&(_=c({cols:Q.value}).concat(_)),m!==void 0&&(_=_.concat(m({cols:Q.value}))),s("tbody",_)}function De(t){return we(t),t.cols=t.cols.map(c=>{const m={...c};return W(m,"value",()=>z(c,t.row)),m}),t}function wt(t){return we(t),W(t,"value",()=>z(t.col,t.row)),t}function qt(t){return we(t),t}function we(t){Object.assign(t,{cols:Q.value,colsMap:Ve.value,sort:me,rowIndex:Y.value+t.pageIndex,color:e.color,dark:v.value,dense:e.dense}),$.value===!0&&W(t,"selected",()=>fe(t.key),(c,m)=>{X([t.key],[t.row],c,m)}),W(t,"expand",()=>B(t.key),c=>{nt(t.key,c)})}function z(t,c){const m=typeof t.field=="function"?t.field(c):c[t.field];return t.format!==void 0?t.format(m,c):m}const H=f(()=>({pagination:y.value,pagesNumber:ee.value,isFirstPage:ge.value,isLastPage:be.value,firstPage:_e,prevPage:he,nextPage:ye,lastPage:Se,inFullscreen:a.value,toggleFullscreen:d}));function Ct(){const t=l.top,c=l["top-left"],m=l["top-right"],_=l["top-selection"],h=$.value===!0&&_!==void 0&&ve.value>0,P="q-table__top relative-position row items-center";if(t!==void 0)return s("div",{class:P},[t(H.value)]);let p;if(h===!0?p=_(H.value).slice():(p=[],c!==void 0?p.push(s("div",{class:"q-table-control"},[c(H.value)])):e.title&&p.push(s("div",{class:"q-table__control"},[s("div",{class:["q-table__title",e.titleClass]},e.title)]))),m!==void 0&&(p.push(s("div",{class:"q-table__separator col"})),p.push(s("div",{class:"q-table__control"},[m(H.value)]))),p.length!==0)return s("div",{class:P},p)}const Qe=f(()=>Be.value===!0?null:st.value);function Le(){const t=kt();return e.loading===!0&&l.loading===void 0&&t.push(s("tr",{class:"q-table__progress"},[s("th",{class:"relative-position",colspan:Oe.value},Ee())])),s("thead",t)}function kt(){const t=l.header,c=l["header-cell"];if(t!==void 0)return t(qe({header:!0})).slice();const m=Q.value.map(_=>{const h=l[`header-cell-${_.name}`],P=h!==void 0?h:c,p=qe({col:_});return P!==void 0?P(p):s(ul,{key:_.name,props:p},()=>_.label)});if(it.value===!0&&e.grid!==!0)m.unshift(s("th",{class:"q-table--col-auto-width"}," "));else if(Te.value===!0){const _=l["header-selection"],h=_!==void 0?_(qe({})):[s(Ce,{color:e.color,modelValue:Qe.value,dark:v.value,dense:e.dense,"onUpdate:modelValue":Me})];m.unshift(s("th",{class:"q-table--col-auto-width"},h))}return[s("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},m)]}function qe(t){return Object.assign(t,{cols:Q.value,sort:me,colsMap:Ve.value,color:e.color,dark:v.value,dense:e.dense}),Te.value===!0&&W(t,"selected",()=>Qe.value,Me),t}function Me(t){Be.value===!0&&(t=!1),X(U.value.map(u.value),U.value,t)}const le=f(()=>{const t=[e.iconFirstPage||n.iconSet.table.firstPage,e.iconPrevPage||n.iconSet.table.prevPage,e.iconNextPage||n.iconSet.table.nextPage,e.iconLastPage||n.iconSet.table.lastPage];return n.lang.rtl===!0?t.reverse():t});function pt(){if(e.hideBottom===!0)return;if(mt.value===!0){if(e.hideNoData===!0)return;const m=e.loading===!0?e.loadingLabel||n.lang.table.loading:e.filter?e.noResultsLabel||n.lang.table.noResults:e.noDataLabel||n.lang.table.noData,_=l["no-data"],h=_!==void 0?[_({message:m,icon:n.iconSet.table.warning,filter:e.filter})]:[s(ue,{class:"q-table__bottom-nodata-icon",name:n.iconSet.table.warning}),m];return s("div",{class:ne+" q-table__bottom--nodata"},h)}const t=l.bottom;if(t!==void 0)return s("div",{class:ne},[t(H.value)]);const c=e.hideSelectedBanner!==!0&&$.value===!0&&ve.value>0?[s("div",{class:"q-table__control"},[s("div",[(e.selectedRowsLabel||n.lang.table.selectedRecords)(ve.value)])])]:[];if(e.hidePagination!==!0)return s("div",{class:ne+" justify-end"},xt(c));if(c.length>0)return s("div",{class:ne},c)}function Pt(t){D({page:1,rowsPerPage:t.value})}function xt(t){let c;const{rowsPerPage:m}=y.value,_=e.paginationLabel||n.lang.table.pagination,h=l.pagination,P=e.rowsPerPageOptions.length>1;if(t.push(s("div",{class:"q-table__separator col"})),P===!0&&t.push(s("div",{class:"q-table__control"},[s("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||n.lang.table.recordsPerPage]),s(lt,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:m,options:ft.value,displayValue:m===0?n.lang.table.allRows:m,dark:v.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":Pt})])),h!==void 0)c=h(H.value);else if(c=[s("span",m!==0?{class:"q-table__bottom-item"}:{},[m?_(Y.value+1,Math.min(Z.value,te.value),te.value):_(1,Re.value,te.value)])],m!==0&&ee.value>1){const p={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(p.size="sm"),ee.value>2&&c.push(s(M,{key:"pgFirst",...p,icon:le.value[0],disable:ge.value,onClick:_e})),c.push(s(M,{key:"pgPrev",...p,icon:le.value[1],disable:ge.value,onClick:he}),s(M,{key:"pgNext",...p,icon:le.value[2],disable:be.value,onClick:ye})),ee.value>2&&c.push(s(M,{key:"pgLast",...p,icon:le.value[3],disable:be.value,onClick:Se}))}return t.push(s("div",{class:"q-table__control"},c)),t}function Rt(){const t=e.gridHeader===!0?[s("table",{class:"q-table"},[Le()])]:e.loading===!0&&l.loading===void 0?Ee():void 0;return s("div",{class:"q-table__middle"},t)}function Tt(){const t=l.item!==void 0?l.item:c=>{const m=c.cols.map(h=>s("div",{class:"q-table__grid-item-row"},[s("div",{class:"q-table__grid-item-title"},[h.label]),s("div",{class:"q-table__grid-item-value"},[h.value])]));if($.value===!0){const h=l["body-selection"],P=h!==void 0?h(c):[s(Ce,{modelValue:c.selected,color:e.color,dark:v.value,dense:e.dense,"onUpdate:modelValue":(p,L)=>{X([c.key],[c.row],p,L)}})];m.unshift(s("div",{class:"q-table__grid-item-row"},P),s(Ht,{dark:v.value}))}const _={class:["q-table__grid-item-card"+w.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(_.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(_.onClick=h=>{r("RowClick",h,c.row,c.pageIndex)}),e.onRowDblclick!==void 0&&(_.onDblclick=h=>{r("RowDblclick",h,c.row,c.pageIndex)})),s("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(c.selected===!0?" q-table__grid-item--selected":"")},[s("div",_,m)])};return s("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},U.value.map((c,m)=>t(De({key:u.value(c),row:c,pageIndex:m}))))}return Object.assign(o.proxy,{requestServerInteraction:F,setPagination:D,firstPage:_e,prevPage:he,nextPage:ye,lastPage:Se,isRowSelected:fe,clearSelection:ut,isRowExpanded:B,setExpanded:J,sort:me,resetVirtualScroll:bt,scrollTo:ht,getCellValue:z}),zt(o.proxy,{filteredSortedRows:()=>de.value,computedRows:()=>U.value,computedRowsNumber:()=>te.value}),()=>{const t=[Ct()],c={ref:b,class:k.value};return e.grid===!0?t.push(Rt()):Object.assign(c,{class:[c.class,e.cardClass],style:e.cardStyle}),t.push(_t(),pt()),e.loading===!0&&l.loading!==void 0&&t.push(l.loading()),s("div",c,t)}}});const El=[{name:"nombre",required:!0,label:"Nombre",align:"left",field:e=>e.name,format:e=>`${e}`,sortable:!0},{name:"email",align:"center",label:"Email",field:"email",sortable:!0},{name:"img",label:"Img",align:"center",field:"img",sortable:!0},{name:"rol",label:"Rol",align:"center",field:"rol"},{name:"acciones",label:"Acciones",field:"acciones"}],Fl={emits:["onFire"],setup(e,l){const r=at(),{usuarios:o,deleteUsuario:n}=et(),v=It(),a=O(!1),d=u=>{r.dialog({title:"\xBFEst\xE1 seguro de borrar el usuario?",message:"Si no est\xE1 seguro, presione cancelar.",ok:{color:"indigo-6",label:"Si, borrar"},cancel:{color:"red-6",label:"Cancelar"},persistent:!0}).onOk(async()=>{try{const{msg:b}=await n(u);b=="ok"&&r.notify({message:"\xA1Usuario eliminado con \xE9xito!",color:"green-10",position:"top-right",icon:"lar la-check-circle"}),l.emit("onFire",!1)}catch(b){console.log(b)}})};return{filter:O(""),columns:El,usuarios:o,onDelete:d,visible:a,onEdit:u=>{v.push(`usuarios/edit/${u}`)}}}},Dl={class:"col-12"},Ql={class:"q-pa-md"},Ll=T("img",{src:"https://cdn.quasar.dev/img/boy-avatar.png"},null,-1),Ml=["src"],Ul={class:"row justify-center"};function jl(e,l,r,o,n,v){return A(),Xe("div",Dl,[S(Ze,{class:"my-card bg-white"},{default:x(()=>[T("div",Ql,[S(Ol,{title:"Lista de Usuarios",rows:o.usuarios,columns:o.columns,"row-key":"name",filter:o.filter},{"top-right":x(()=>[S(ie,{borderless:"",dense:"",debounce:"300",modelValue:o.filter,"onUpdate:modelValue":l[0]||(l[0]=a=>o.filter=a),placeholder:"Buscar",color:"indigo-6"},{append:x(()=>[S(ue,{name:"search"})]),_:1},8,["modelValue"])]),body:x(a=>[S(sl,{props:a},{default:x(()=>[S(G,{key:"nombre",props:a},{default:x(()=>[ke(se(a.row.nombre),1)]),_:2},1032,["props"]),S(G,{key:"email",props:a},{default:x(()=>[ke(se(a.row.email),1)]),_:2},1032,["props"]),S(G,{key:"img",props:a},{default:x(()=>[a.row.img?(A(),K(Ae,{key:1},{default:x(()=>[T("img",{src:a.row.img},null,8,Ml)]),_:2},1024)):(A(),K(Ae,{key:0},{default:x(()=>[Ll]),_:1}))]),_:2},1032,["props"]),S(G,{key:"rol",props:a},{default:x(()=>[S(Xt,{color:"grey-6"},{default:x(()=>[ke(se(a.row.rol),1)]),_:2},1024)]),_:2},1032,["props"]),S(G,{key:"acciones",props:a},{default:x(()=>[S(M,{round:"",color:"orange-4",size:"sm",icon:"las la-edit",onClick:d=>o.onEdit(a.row.uid)},null,8,["onClick"]),a.row.email!=="gonzaa.vidal.18@gmail.com"?(A(),K(M,{key:0,round:"",color:"red-4",size:"sm",icon:"las la-trash",class:"q-ml-xs",onClick:d=>o.onDelete(a.row.uid)},null,8,["onClick"])):Ye("",!0)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","filter"]),T("div",Ul,[S(xe,{showing:o.visible,label:"Espere un momento...","label-class":"text-indigo-6","label-style":"font-size: 1.1em"},null,8,["showing"])])])]),_:1})])}var Al=Pe(Fl,[["render",jl]]);const Nl={emits:["onFire"],setup(e,l){const r=O({nombre:"",email:"",password:"",rol:""});let o=O({});const n=O(),v=at(),a=O(!1),d=rl().shape({rol:re().required("El rol es obligatorio."),password:re().required("La contrase\xF1a es obligatoria."),email:re().email("El email es inv\xE1lido.").required("El email es obligatorio."),nombre:re().required("El nombre es obligatorio.")}),{createUsuario:u}=et();return{formData:r,formError:o,msgError:n,onSubmit:async()=>{o.value={};try{await d.validate(r.value,{abortEarly:!1});try{a.value=!0,v.loadingBar.start();const{msg:i}=await u(r.value);i=="ok"&&(v.notify({message:"\xA1Usuario creado con \xE9xito!",color:"green-10",position:"top-right",icon:"lar la-check-circle"}),r.value={},n.value="",v.loadingBar.stop()),a.value=!1,l.emit("onFire",!1)}catch(i){console.log(i)}}catch(i){i.inner.forEach(g=>{o.value[g.path]=g.message,n.value=o.value[g.path]})}},options:["ADMIN_ROLE","USER_ROLE"],visible:a}}},$l={class:"q-gutter-md"},zl={class:"row justify-center"},Hl={class:"self-center text-red-6 text-weight-bold"},Il={class:"row justify-end"},Wl={class:"row justify-center"};function Gl(e,l,r,o,n,v){return A(),Xe("div",$l,[S(ol,{class:"q-gutter-md",onSubmit:Wt(o.onSubmit,["prevent"])},{default:x(()=>[S(ie,{filled:"",modelValue:o.formData.nombre,"onUpdate:modelValue":l[0]||(l[0]=a=>o.formData.nombre=a),label:"Nombre completo",color:"indigo-6"},null,8,["modelValue"]),S(ie,{filled:"",modelValue:o.formData.email,"onUpdate:modelValue":l[1]||(l[1]=a=>o.formData.email=a),label:"Correo electr\xF3nico",color:"indigo-6"},null,8,["modelValue"]),S(ie,{filled:"",modelValue:o.formData.password,"onUpdate:modelValue":l[2]||(l[2]=a=>o.formData.password=a),type:"password",label:"Contrase\xF1a",color:"indigo-6"},null,8,["modelValue"]),S(lt,{filled:"",modelValue:o.formData.rol,"onUpdate:modelValue":l[3]||(l[3]=a=>o.formData.rol=a),options:o.options,label:"Rol",color:"indigo-6"},null,8,["modelValue","options"]),T("div",zl,[T("span",Hl,se(o.msgError),1)]),T("div",Il,[S(M,{type:"submit",color:"indigo-6",label:"Crear",class:"self-center q-ma-sm q-py-sm","icon-right":"las la-user-plus"})]),T("div",Wl,[S(xe,{showing:o.visible,label:"Espere un momento...","label-class":"text-indigo-6","label-style":"font-size: 1.1em"},null,8,["showing"])])]),_:1},8,["onSubmit"])])}var Kl=Pe(Nl,[["render",Gl],["__scopeId","data-v-3c353a66"]]);const Jl={components:{Usuarios:Al,CrearUsuario:Kl},setup(){const e=O(!1),l=O(!0),r=O(!1);return{showModal:e,visible:l,visible2:r,onFire:n=>{l.value=n,r.value=!0,setTimeout(()=>{l.value=!0},1e3),setTimeout(()=>{r.value=n},2e3)}}}},Xl={class:"q-pa-md q-gutter-sm text-indigo-6"},Yl={class:"row"},Zl={class:"col-12 row q-pa-sm"},ea=T("div",{class:"col-6 text-indigo-6"},[T("span",{class:"text-h3 text-weight-bold"},"Usuarios")],-1),ta={class:"col-6 row justify-end"},la={class:"row justify-center"},aa=T("div",{class:"text-h5 col-8"},"Crear Usuario",-1),oa={class:"text-h5 col-4 row justify-end"};function ra(e,l,r,o,n,v){const a=Ne("Usuarios"),d=Ne("CrearUsuario");return A(),K(Kt,{class:"q-pa-md bg-white"},{default:x(()=>[T("div",Xl,[S(il,null,{default:x(()=>[S(ze,{icon:"home",to:{name:"home"}}),S(ze,{label:"Usuarios",icon:"las la-users"})]),_:1})]),T("div",Yl,[T("div",Zl,[ea,T("div",ta,[S(M,{color:"indigo-6",icon:"las la-user-plus",onClick:l[0]||(l[0]=u=>o.showModal=!0),size:"md",rounded:""})])]),o.visible?(A(),K(a,{key:0,onOnFire:o.onFire},null,8,["onOnFire"])):Ye("",!0),T("div",la,[S(xe,{showing:o.visible2,label:"Espere un momento...","label-class":"text-indigo-6","label-style":"font-size: 1.1em"},null,8,["showing"])])]),S(Gt,{modelValue:o.showModal,"onUpdate:modelValue":l[2]||(l[2]=u=>o.showModal=u)},{default:x(()=>[S(Ze,{class:"q-dialog-plugin"},{default:x(()=>[S($e,{class:"row"},{default:x(()=>[aa,T("div",oa,[S(M,{rounded:"",icon:"las la-times",size:"sm",onClick:l[1]||(l[1]=u=>o.showModal=!1),color:"indigo-6"})])]),_:1}),S($e,null,{default:x(()=>[S(d,{onOnFire:o.onFire},null,8,["onOnFire"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var Sa=Pe(Jl,[["render",ra]]);export{Sa as default};
