import{Q as E}from"./QSelect.05d4726a.js";import{r as u,aB as L,_ as I,H as A,ap as D,b as n,i as p,j as t,aq as e,G as x,aC as g,k as d,K as P,J as N,a5 as S,E as k,at as $,ar as z,Q as b,c as Q}from"./index.578b6eaa.js";import{Q as F}from"./QImg.fc8501fa.js";import{Q as G}from"./QInnerLoading.c97a4a11.js";const H=()=>{let a=u(["ALL"]);return(async()=>{try{const{data:s}=await L.get("/categorias");s.categorias.forEach(c=>{a.value.push(c.nombre)})}catch(s){console.log(s)}})(),{categorias:a}},J=(a,r="")=>{const s=u(),c=u(null);let _=u(null),m=u(null),o=u(0);const f=async(v=1,h=0)=>{v<=0&&(v=1);const w=(v-1)*a;try{c.value=!0;const{data:i}=await L.get(`/portafolios?limite=${a}&desde=${w}&recomendar=${r}`);s.value=i.portafolios,_.value=i.total,m.value=v,o.value=i.portafolios.length+h,o.value>_.value&&(o.value=_.value),o.value<0&&(o.value=a),c.value=!1}catch(i){console.log(i)}};return f(),{portafolios:s,total:_,current:m,nextPage:()=>f(m.value+1,o.value),prevPage:()=>f(m.value-1,-o.value),cantidad:o,loading:c}};const K={class:"q-pa-md-xl q-pa-xs-sm row"},U={class:"col-12 q-py-sm"},M={class:"col-12 text-center"},O={key:0,class:"text-h3"},R={class:"col-12 text-center"},T={class:"text-h5 text-grey-6 cel"},W={class:"col-12 q-py-sm"},X={class:"row justify-end"},Y={key:0,class:"col-12 col-md-4 q-pa-sm q-my-md-md q-my-xs-sm"},Z={class:"absolute-bottom text-h5 text-weight-bold text-center"},ee={key:0,class:"row justify-center column link"},te={class:"col-12 q-mt-md"},oe={class:"row justify-center"},se={class:"q-pa-sm text-weight-bolder q-px-md"},ae={class:"row justify-center q-mt-md"},le={__name:"PortfolioComponent",props:["title","subtitle","limit","recomendar"],setup(a){const r=a,s=r.limit,c=r.recomendar,{categorias:_}=H(),{portafolios:m,current:o,nextPage:f,prevPage:v,cantidad:h,total:w,loading:i}=J(s,c),y=u("ALL"),C=r.title,B=r.subtitle;return(ne,q)=>{const V=A("viewer"),j=D("animate-onscroll");return n(),p("div",K,[t("div",U,[t("div",M,[e(C)?(n(),p("span",O,x(e(C)),1)):g("",!0)]),t("div",R,[t("span",T,x(e(B)),1)])]),t("div",W,[t("div",X,[d(E,{modelValue:y.value,"onUpdate:modelValue":q[0]||(q[0]=l=>y.value=l),options:e(_),label:"Filtrar",style:{width:"180px"},color:"indigo-6"},null,8,["modelValue","options"])])]),(n(!0),p(P,null,N(e(m),l=>(n(),p(P,{key:l},[l.categoria.nombre==y.value||y.value=="ALL"?S((n(),p("div",Y,[d(V,null,{default:k(()=>[d($,{class:"my-card"},{default:k(()=>[d(z,{horizontal:""},{default:k(()=>[d(F,{src:l.img,style:{cursor:"pointer"}},{default:k(()=>[t("div",Z,x(l.titulo),1),l.enlace?(n(),p("div",ee,[d(b,{href:l.enlace,target:"_blank",flat:"",round:"",color:"white",icon:"las la-link",class:"self-center"},null,8,["href"])])):g("",!0)]),_:2},1032,["src"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])),[[j,"animated fadeIn",void 0,{repeat:!0}]]):g("",!0)],64))),128)),t("div",te,[t("div",oe,[e(h)>e(s)?(n(),Q(b,{key:0,icon:"las la-chevron-left",color:"indigo-6",onClick:e(v)},null,8,["onClick"])):g("",!0),t("span",se,x(e(o)),1),e(h)<e(w)?(n(),Q(b,{key:1,icon:"las la-chevron-right",color:"indigo-6",onClick:e(f)},null,8,["onClick"])):g("",!0)])]),t("div",ae,[d(G,{showing:e(i),label:"Espere un momento...","label-class":"text-indigo-6","label-style":"font-size: 1.1em"},null,8,["showing"])])])}}};var ue=I(le,[["__scopeId","data-v-1197e274"]]);export{ue as P};
