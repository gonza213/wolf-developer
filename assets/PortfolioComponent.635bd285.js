import{Q as L}from"./QSelect.8705af50.js";import{Q}from"./QImg.aa84dff0.js";import{r as u,a as P,d as $,_ as x,I as B,aq as I,e as d,j as p,k as a,H as _,aB as f,l as m,L as b,K as V,F as g,at as k,f as w,Q as C,a6 as A}from"./index.1570b396.js";import{Q as j}from"./QInnerLoading.8e09d99a.js";import{A as q}from"./QParallax.a5ba3106.js";const D=()=>{let e=u(["ALL"]);return(async()=>{try{const{data:s}=await P.get(`${q}/api/categorias`);s.categorias.forEach(n=>{e.value.push(n.nombre)})}catch(s){console.log(s)}})(),{categorias:e}},E=(e,l="")=>{const s=u(),n=u(null);let r=u(null),i=u(null),o=u(0);const c=async(t=1,h=0)=>{t<=0&&(t=1);const y=(t-1)*e;try{n.value=!0;const{data:v}=await P.get(`${q}/api/portafolios?limite=${e}&desde=${y}&recomendar=${l}`);s.value=v.portafolios,r.value=v.total,i.value=t,o.value=v.portafolios.length+h,o.value>r.value&&(o.value=r.value),o.value<0&&(o.value=e),n.value=!1}catch(v){console.log(v)}};return c(),{portafolios:s,total:r,current:i,nextPage:()=>c(i.value+1,o.value),prevPage:()=>c(i.value-1,-o.value),cantidad:o,loading:n}};const F=$({props:["title","subtitle","limit","recomendar"],setup(e){const l=e.limit,s=e.recomendar,{categorias:n}=D(),{portafolios:r,current:i,nextPage:o,prevPage:c,cantidad:t,total:h,loading:y}=E(l,s);return{model:u("ALL"),categorias:n,portafolios:r,nextPage:o,prevPage:c,current:i,cantidad:t,total:h,limit:l,title:e.title,subtitle:e.subtitle,loading:y}}}),N={class:"q-pa-md-xl q-pa-xs-sm row"},S={class:"col-12 q-py-sm"},U={class:"col-12 text-center"},z={key:0,class:"text-h3"},H={class:"col-12 text-center"},K={class:"text-h5 text-grey-6 cel"},R={class:"col-12 q-py-sm"},G={class:"row justify-end"},J={key:0,class:"col-12 col-md-4 q-pa-sm q-my-md-md q-my-xs-sm"},M={class:"absolute-bottom text-subtitle2 text-center"},O=["href"],T={class:"col-12 row justify-center"},W={class:"col-12 q-mt-md"},X={class:"row justify-center"},Y={class:"q-pa-sm text-weight-bolder q-px-md"};function Z(e,l,s,n,r,i){const o=B("viewer"),c=I("animate-onscroll");return d(),p("div",N,[a("div",S,[a("div",U,[e.title?(d(),p("span",z,_(e.title),1)):f("",!0)]),a("div",H,[a("span",K,_(e.subtitle),1)])]),a("div",R,[a("div",G,[m(L,{modelValue:e.model,"onUpdate:modelValue":l[0]||(l[0]=t=>e.model=t),options:e.categorias,label:"Filtrar",style:{width:"180px"},color:"indigo-6"},null,8,["modelValue","options"])])]),(d(!0),p(b,null,V(e.portafolios,t=>(d(),p(b,{key:t},[t.categoria.nombre==e.model||e.model=="ALL"?A((d(),p("div",J,[m(o,null,{default:g(()=>[m(k,{class:"my-card"},{default:g(()=>[m(Q,{src:t.img,style:{cursor:"pointer"}},{default:g(()=>[a("div",M,[a("a",{href:t.enlace,class:"enlace",target:"_blank"},_(t.titulo),9,O)])]),_:2},1032,["src"])]),_:2},1024)]),_:2},1024)])),[[c,"animated fadeIn",void 0,{repeat:!0}]]):f("",!0)],64))),128)),a("div",T,[m(k,{class:"my-card col-md-6"},{default:g(()=>[m(j,{showing:e.loading,label:"Espere un momento...","label-class":"text-indigo-6","label-style":"font-size: 1.1em"},null,8,["showing"])]),_:1})]),a("div",W,[a("div",X,[e.cantidad>e.limit?(d(),w(C,{key:0,icon:"las la-chevron-left",color:"indigo-6",onClick:e.prevPage},null,8,["onClick"])):f("",!0),a("span",Y,_(e.current),1),e.cantidad<e.total?(d(),w(C,{key:1,icon:"las la-chevron-right",color:"indigo-6",onClick:e.nextPage},null,8,["onClick"])):f("",!0)])])])}var le=x(F,[["render",Z],["__scopeId","data-v-1fecdf6c"]]);export{le as P};
