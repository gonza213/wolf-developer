import{Q as q}from"./QSelect.4f4435df.js";import{Q as w}from"./QImg.46833eb8.js";import{r as u,a as b,d as L,_ as $,I as Q,aq as x,e as d,j as v,k as a,H as p,aB as _,l as f,L as y,K as B,f as k,Q as C,a6 as V,F as h,at as A}from"./index.59ad9dfc.js";import{A as P}from"./QParallax.cf83f51f.js";const I=()=>{let e=u(["ALL"]);return(async()=>{try{const{data:s}=await b.get(`${P}/api/categorias`);s.categorias.forEach(l=>{e.value.push(l.nombre)})}catch(s){console.log(s)}})(),{categorias:e}},j=(e,r="")=>{let s=u(null),l=u(null),i=u(null),t=u(0);const c=async(n=1,o=0)=>{n<=0&&(n=1);const g=(n-1)*e;try{const{data:m}=await b.get(`${P}/api/portafolios?limite=${e}&desde=${g}&recomendar=${r}`);s.value=m.portafolios,l.value=m.total,i.value=n,t.value=m.portafolios.length+o,t.value>l.value&&(t.value=l.value),t.value<0&&(t.value=e)}catch(m){console.log(m)}};return c(),{portafolios:s,total:l,current:i,nextPage:()=>c(i.value+1,t.value),prevPage:()=>c(i.value-1,-t.value),cantidad:t}};const D=L({props:["title","subtitle","limit","recomendar"],setup(e){const r=e.limit,s=e.recomendar,{categorias:l}=I(),{portafolios:i,current:t,nextPage:c,prevPage:n,cantidad:o,total:g}=j(r,s);return{model:u("ALL"),categorias:l,portafolios:i,nextPage:c,prevPage:n,current:t,cantidad:o,total:g,limit:r,title:e.title,subtitle:e.subtitle}}}),F={class:"q-pa-md-xl q-pa-xs-sm row"},N={class:"col-12 q-py-sm"},E={class:"col-12 text-center"},S={key:0,class:"text-h3"},U={class:"col-12 text-center"},H={class:"text-h5 text-grey-6 cel"},K={class:"col-12 q-py-sm"},R={class:"row justify-end"},z={key:0,class:"col-12 col-md-4 q-pa-sm q-my-md-md q-my-xs-sm"},G={class:"absolute-bottom text-subtitle2 text-center"},J=["href"],M={class:"col-12 q-mt-md"},O={class:"row justify-center"},T={class:"q-pa-sm text-weight-bolder q-px-md"};function W(e,r,s,l,i,t){const c=Q("viewer"),n=x("animate-onscroll");return d(),v("div",F,[a("div",N,[a("div",E,[e.title?(d(),v("span",S,p(e.title),1)):_("",!0)]),a("div",U,[a("span",H,p(e.subtitle),1)])]),a("div",K,[a("div",R,[f(q,{modelValue:e.model,"onUpdate:modelValue":r[0]||(r[0]=o=>e.model=o),options:e.categorias,label:"Filtrar",style:{width:"180px"},color:"indigo-6"},null,8,["modelValue","options"])])]),(d(!0),v(y,null,B(e.portafolios,o=>(d(),v(y,{key:o},[o.categoria.nombre==e.model||e.model=="ALL"?V((d(),v("div",z,[f(c,null,{default:h(()=>[f(A,{class:"my-card"},{default:h(()=>[f(w,{src:o.img,style:{cursor:"pointer"}},{default:h(()=>[a("div",G,[a("a",{href:o.enlace,class:"enlace",target:"_blank"},p(o.titulo),9,J)])]),_:2},1032,["src"])]),_:2},1024)]),_:2},1024)])),[[n,"animated fadeIn",void 0,{repeat:!0}]]):_("",!0)],64))),128)),a("div",M,[a("div",O,[e.cantidad>e.limit?(d(),k(C,{key:0,icon:"las la-chevron-left",color:"indigo-6",onClick:e.prevPage},null,8,["onClick"])):_("",!0),a("span",T,p(e.current),1),e.cantidad<e.total?(d(),k(C,{key:1,icon:"las la-chevron-right",color:"indigo-6",onClick:e.nextPage},null,8,["onClick"])):_("",!0)])])])}var te=$(D,[["render",W],["__scopeId","data-v-f3506df0"]]);export{te as P};
